<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Minha Carteira</title>

  <!-- PWA / iOS -->
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#ffffff" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <link rel="apple-touch-icon" href="/icons/icon-192.png" />

  <style>
    :root { --vh: 100vh; }
    html, body { height:100%; margin:0; padding:0; -webkit-user-select:none; user-select:none; background:#fff; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
    .bg { position: fixed; inset:0; background-image: url('pagina1.jpeg'); background-repeat:no-repeat; background-position:center top; background-size:cover; z-index:0; pointer-events:none; }
    .ui { position:relative; z-index:1; min-height:calc(var(--vh)); width:100%; box-sizing:border-box; padding-left: env(safe-area-inset-left); padding-right: env(safe-area-inset-right); padding-bottom: env(safe-area-inset-bottom); }
    .hotspot { position:absolute; background: rgba(255,0,0,0); border:0; padding:0; margin:0; cursor:pointer; -webkit-tap-highlight-color: transparent; }
    #btn-page2 { top:28.9%; left:6.0%; width:88.0%; height:15.6%; min-width:44px; min-height:44px; }
    @media (max-width:360px) { #btn-page2 { top:27.2%; left:5.4%; width:89.2%; height:17.6%; } }
    @media (min-width:900px) { #btn-page2 { min-width:56px; min-height:56px; } }
  </style>
</head>
<body>
  <div class="bg" aria-hidden="true"></div>

  <div class="ui" role="main" aria-label="Página inicial da carteira">
    <!-- Hotspot invisível que navega para pagina2.html (link relativo) -->
    <a id="btn-page2" class="hotspot" href="pagina2.html" aria-label="Abrir página 2"></a>
  </div>

  <script>
    // Corrige 100vh em iOS
    function setVh(){ document.documentElement.style.setProperty('--vh', (window.innerHeight || document.documentElement.clientHeight) + 'px'); }
    setVh(); window.addEventListener('resize', setVh);

    // Fallback robusto para navegação (mantém comportamento mesmo com interceptores)
    (function(){
      const el = document.getElementById('btn-page2');
      if(!el) return;
      el.addEventListener('click', function(e){
        // permite comportamento padrão do <a>; força navegação se necessário
        const target = 'pagina2.html';
        setTimeout(function(){
          if (location.pathname.endsWith('/') || location.pathname.endsWith('index.html')) {
            if (location.href.indexOf(target) === -1) {
              try { window.location.href = target; } catch(err) { window.open(target, '_self'); }
            }
          } else {
            // se já estiver em subpath, usa relative path fallback
            try { window.location.assign(target); } catch(err) { window.open(target, '_self'); }
          }
        }, 150);
      }, {passive:false});
    })();

    // Debug snippet para checar se está em modo standalone
    (function(){
      const isStandalone = window.navigator.standalone || window.matchMedia('(display-mode: standalone)').matches;
      console.info('Standalone?', isStandalone);
    })();
  </script>
</body>
</html>
